Инструкция по установке системы автоматизации работы с клиентами.

Шаг1. Приступая к установке.
Перед установкой системы, убедитесь, что у Вас установлена СУБД MySQL версии не ниже 5.1 и JRE версии не ниже 1.7. Проверить установку JRE можно следующим способом: 
Пуск->Выполнить->cmd-> java –version.
ВНИМАНИЕ!!! Для того чтобы была возможность демонстрации видеороликов на табло устанавливайте JRE 32bit.
ВНИМАНИЕ!!! на JRE 64bit ярлыки инсталятором не создаются и инсталятор зависает. Не волнуйтесь, просто закройте инсталятор самостоятельно и создайте все необходимые ярлыки для *.bat в ручную.

Также рекомендуется установить графические утилиты для работы с СУБД MySQL.

Шаг2. Запуск инсталляции системы.
Microsoft Windows:
Кликните два раза по файлу install.jar.
Linux(универсальный способ для любой ОС):
Запуск инсталляции с командной строки:
Перейдите в папку с файлом install.jar и выполните команду
 java –cp install.jar com.izforge.izpack.installer.Installer

Шаг3.  Инсталляция системы.
В окне приветствия жмем «Далее», в следующем окне представления системы так же жмем «Далее», в следующем окне будет показана версия сборки системы, дата сборки и другая информация о продукте, так же жмем «Далее».
 В следующем окне будет предложено выбрать каталог для установки системы, по умолчанию, каталогом является диск, с установленной ОС в папке Program Files и нажать «Далее». Инсталлятор автоматически создаст каталог, если его не существует.

Далее будет предложен выбор установки компонентов системы:
-файлы приложения и библиотеки (по умолчанию, невозможно изменить).
-рабочее место оператора (по умолчанию)
-сервер
-администрирование
-пункт регистрации
-документация*
* в компонент «Документация» входят: руководство пользователя и руководство администратора, контекстная помощь присутствует всегда.
После выбора необходимых компонентов жмем «Далее».

Шаг4. Настройка системы.
После выбора компонентов, Вам будет предложено ввести адреса и порты для взаимодействия компонентов системы:
- адрес сервера
- порт сервера
- адрес пункта регистрации
- порт пункта регистрации
- порт клиентов
- назначить сервер суперсайтом.
Примечание! В случае заполнения неверных данных в адреса и порты серверов, их можно поправить в *.bat файлах, установленных компонентов системы.
После ввода данных, нажмите «Далее». Вам будет показан список выбранных компонентов, если Вас все устраивает, то жмите «Далее».

Шаг5. Завершение установки.
Началась установка программных компонентов системы. После ее завершения жмем «Далее». Появится окно, где будет предложено вывести ярлыки на рабочий стол. Создание ярлыков в установленную папку с системой стоит по умолчанию.

Далее после завершения работы инсталяционного пакета необходимо установить некоторые программные продукты и драйвера, если, конечно, они у вас не установлены ранее.

Шаг6. Установка срады JMF выполнения мультимедиа для java.
Если у вас уже установлена среда выполнения JMF, то пропустите этот этап.
Для установки JMF запустите инcталятор jmf-2_1_1e-windows-i586.exe в OS Windows или jmf-2_1_1e-windows-i586.bin в OS Linux. Инсталятор можно найти в папке JMF в папке куда вы установили саму систему. При установке инсталятор копирует необходимые библиотреки в JRE. Если система безопастности не позволит инсталятору скопировать эти библиотеки автоматически, то нужно сделать это вручную. Файлы из папки C:\Program Files\JMF2.1.1e\lib скопируйте в папку <jre>\lib\ext.

Для установки клиентского модуля этих действий достаточно.

Теперь все необходимые компоненты установлены на ваш компьютер. Необходимо только развернуть БД и настроить ситему для использования этой БД.

Шаг7.Развертывание БД.
В папке DB вы найдете развертывающий скрипт qsystem.sql. Этот скрипт создаст саму базу, необходимые таблици и заполнит таблици начальными данными. Если у вас уже имеется БД и вы переходите на новую версию БД, то вам необходимо использовать sql-скрипт для обновления вашей базы до требуемой версии. Для выполнения sql-скриптов можно использовать консоль СУБД MYSQL, но лучше поспользоваться приложением MySQL Query Browser, её вы можите бесплатно скачать из Internet и установить на свой компьютер. Добавте пользователя СУБД и дайте ему доступ до созданной БД.
В настройках СУБД MySQL есть параметр wait_timeout, это время в секундах, на протяжении которого сервер наблюдает неактивность в неинтерактивном соединения прежде, чем закрыть его. Значение по умолчанию 28800 секунд. Если сервер сстемы остается работать, к примеру, на ночь или продолжнительные праздники, то при начале работы произойдет ошибка, т.к. СУБД на обработает запрос. Этот параметр можно указать в конфигурационном файле MySQL. Часто в Windows это файл my.ini, точнее посмотреть в настройках сервера в приложении MySQL Administrator. Добавить в этот файл строчку "wait_timeout=хххх". Сервер имеет функционал для поддержания соединения путем опроса СУБД раз в час. Учтите это если у вас более жесткие настройки.

Шаг8. Настройка системы для использования БД.
В папке dist запустите admdbcom.bat для OS Windows или admdbcom.sh для OS Linux. Убедитесь то при этом не запущено других приложений, которые входят в систему. Если во время старта admdbcom будет запущен сервер или программа администрирования, то исзмененные настройки не смогут быть сохранены. Введите правильные данные касательно соединения с БД и COM-портом(если требуется). Сохраните параметры.

После выполнения всех шагов система готова к использованию.



